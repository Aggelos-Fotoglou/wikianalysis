# Introduction
This repository contains two main files, `analyser.py` and `quick_results.py`.
- `analyser.py` is the main part of the project and handles reading the xml data from the dump and writing them to the mysql database.
- `quick_results.py` is a helper program that uses the database generated by `analyser.py` to run preconfigured SQL Scripts for a quick first insight into the data. It output the query results into a Microsoft Excel file.

Both scripts offer interactive, console based UIs for easier use.
# How to use
## Download and decompress the wikipedia database dumps
You can find more information about wikipedia database dumps on [the wikipedia page](https://en.wikipedia.org/wiki/Wikipedia:Database_download).  
For the english wikipedia, we can find the dumps at [https://dumps.wikimedia.org/enwiki/](https://dumps.wikimedia.org/enwiki/). Other languages will have similar URLs.  
Download the dumps either <b>by using a web browser</b>, or through the command line by typing:  
```console
wget {database_dump_download_link}
```
After that, <b>unpack the archive by using 7zip</b>, any other similar program or the command line tool bzip2 with:
```console
bzip2 -d {archive_name.bz2}
```
## Prepare your database
This programm uses a mysql database for storing the output data. Make sure you have the mysql database server installed and have prepared a user with at least the `SELECT` and `INSERT` priviledges for a specific table. The table should have 2 fields:
1) `word` : `varchar(50)` (can also have any other maximum size. The program will ask if you want to resize it in case a word does not fit)
2) `times` : `bigint` (can also be any bigger or smaller integer type)  
The program offers different options for connecting to mysql. You can connect either with a unix_socket or with an ip connection
## Run the programm
This program depends on some external python modules to function. These modules are listed in the requirements.txt file and can be installed with:  
```console
pip install -r requirements.txt
```  
After that, you can simply run the analyser script by running:  
```console
python3 analyser.py
```  
Finally, directly use SQL Querys to analyse your data.  
Alternativly run the quick results script by running:  
```console
python3 quick_results.py
```
# Dependencies (Installed automatically with requirements.txt)
The following python libraries make this program possible:  
- [lxml](https://pypi.org/project/lxml/): For parsing the html to removing the tags (they don't count as words)
- [mwxml](https://pypi.org/project/mwxml/): For loading the wikipedia xml dumps
- [mysql-connector-python](https://pypi.org/project/mysql-connector-python/) For connecting to the mysql database
- [pymenu-console](https://pypi.org/project/pymenu-console/) For displaying the command line user interfaces (menus)
- [openpyxl](https://pypi.org/project/openpyxl/) Used only by quick_results.py to create Excel documets

